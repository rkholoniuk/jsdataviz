/*! jsdataviz - v0.0.1 - 2015-08-19 */
!function() {
  var a = {}, a = window.charts = a.utils || {};
  a.utils = a.utils || {}, a.utils.extend = function(a, b) {
    for (var c in b)b[c] && b[c].constructor && b[c].constructor === Object ? (a[c] = a[c] || {}, arguments.callee(a[c], b[c])) : a[c] = b[c];
    return a
  }, a.LineChart = function(a) {
    var b = a || {};
    b.CHART_NAME = b.CHART_NAME || "linechart", b.CONTAINER = b.CONTAINER || "canvas-svg", b.WIDTH = b.WIDTH || 800, b.HEIGHT = b.HEIGHT || 800, b.MERGIN = b.MERGIN || {
      top: 20,
      right: 20,
      bottom: 30,
      left: 50
    }, b.Y_AXIS_LABEL = b.Y_AXIS_LABEL || "Price ($)", b.X_DATA_PARSE = b.X_DATA_PARSE || d3.time.format("%d-%b-%y").parse, b.Y_DATA_PARSE = b.Y_DATA_PARSE || parseInt, b.Y_DATA_FORMAT = b.Y_DATA_FORMAT || d3.time.format("%b-%y"), b.X_AXIS_COLUMN = b.X_AXIS_COLUMN || "date", b.Y_AXIS_COLUMN = b.Y_AXIS_COLUMN || "close";
    var c = b.MERGIN, d = b.WIDTH - c.left - c.right, e = b.HEIGHT - c.top - c.bottom, f = d3.time.scale().range([0, d]), g = d3.scale.linear().range([e, 0]), h = d3.svg.axis().scale(f).orient("bottom").tickFormat(b.Y_DATA_FORMAT), i = d3.svg.axis().scale(g).orient("left"), j = d3.svg.line().interpolate("basis").x(function(a) {
      return f(a.x_axis)
    }).y(function(a) {
      return g(a.y_axis)
    });
    this.render = function(a) {
      var k = d3.select("#" + b.CONTAINER).append("svg").attr("width", d + c.left + c.right).attr("height", e + c.top + c.bottom).attr("class", b.CHART_NAME).append("g").attr("transform", "translate(" + c.left + "," + c.top + ")");
      a.forEach(function(a) {
        a.x_axis = b.X_DATA_PARSE(a[b.X_AXIS_COLUMN]), a.y_axis = b.Y_DATA_PARSE(a[b.Y_AXIS_COLUMN])
      }), f.domain(d3.extent(a, function(a) {
        return a.x_axis
      })), g.domain(d3.extent(a, function(a) {
        return a.y_axis
      })), k.append("g").attr("class", "x axis").attr("transform", "translate(0," + e + ")").call(h), k.append("g").attr("class", "y axis").call(i).append("text").attr("transform", "rotate(-90)").attr("y", 6).attr("dy", ".71em").style("text-anchor", "end").text(b.Y_AXIS_LABEL), k.append("path").datum(a).attr("class", "line").attr("d", j)
    }
  }
}();